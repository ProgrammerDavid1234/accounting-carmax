import{a as s,ah as i}from"./index-CTCBJzRR.js";import{C as E}from"./CrudModule-BvPmqAwS.js";import{D as m}from"./index-Buz4FWpG.js";import{D as T,aY as _}from"./IdurarOs-C1ccoc5w.js";import"./actions-NQwF321l.js";import"./index-CdlM297y.js";import"./index-DmJj_FyJ.js";import"./ErpApp-HKIHJaRg.js";import"./DownOutlined-1foRSa1_.js";import"./helpers-B-LtsaJ6.js";import"./index-PuTi9JZX.js";import"./fade-NNgYGlbA.js";import"./countryList-BMI-59xj.js";import"./index-KrFx5yLV.js";import"./color-DHucoY0N.js";import"./index-BT8QzzTa.js";import"./useDate-D4igKvV0.js";import"./useDebounce-CY_c4DTb.js";import"./index-DdLBPheE.js";import"./ArrowRightOutlined-tFQf75iq.js";import"./Table-C6aSP117.js";import"./DeleteOutlined-C4uAHv9y.js";import"./PlusOutlined-DPRi5CKy.js";import"./index-B9GaUWf0.js";import"./index-DRHd9gyj.js";import"./index-DWqF2znp.js";import"./useFetch-DKjgpc6t.js";import"./index-Dav0lxE5.js";const p={name:{type:"string",required:!0},productCategory:{type:"async",label:"product Category",displayLabels:["productCategory","name"],dataIndex:["productCategory","name"],entity:"productcategory",required:!0},price:{type:"currency",required:!0},description:{type:"textarea"}};function Z(){const e=T(),d="product",u={displayLabels:["name"],searchFields:"name"},l=["name"],g={PANEL_TITLE:e("Product"),DATATABLE_TITLE:e("Product_list"),ADD_NEW_ENTITY:e("add_new_Product"),ENTITY_NAME:e("Product")},f={...{entity:d,...g},fields:p,searchConfig:u,deleteModalLabels:l},[a,c]=s.useState([]),[y,n]=s.useState(0);s.useEffect(()=>{(async()=>{try{const r=await _.get("https://accounting-carmax.onrender.com//api/products");c(r.data)}catch(r){console.error("Error fetching products:",r)}})()},[]),s.useEffect(()=>{if(a.length>1){const t=a.reduce((r,o)=>{const x=parseFloat(o.price)||0;return r+x},0);n(t)}else n(0)},[a]);const h=t=>{if(t.price&&!isNaN(t.price)){const r={...t,price:parseFloat(t.price)};c(o=>[...o,r])}else alert(e("Please_enter_valid_price"))},P=t=>{c(r=>r.map(o=>o.id===t.id?t:o))};return i.jsxs(i.Fragment,{children:[i.jsx(E,{createForm:i.jsx(m,{fields:p,onSubmit:h}),updateForm:i.jsx(m,{fields:p,onSubmit:P}),config:f}),a.length>1&&i.jsxs("div",{style:{marginTop:"20px",fontWeight:"bold"},children:[e("Total Price"),": $",y.toFixed(2)]})]})}export{Z as default};
