import{a as s,ah as i}from"./index-CH-5c-MR.js";import{C as E}from"./CrudModule-BFu4G31Y.js";import{D as d}from"./index-ZhfB7L0u.js";import{D as T,aY as _}from"./IdurarOs-fG_l_C9Y.js";import"./actions-lAyiSV_q.js";import"./index-BJSr-kn-.js";import"./index-DqUJQRo8.js";import"./ErpApp-xuQNuWsw.js";import"./DownOutlined-CwSJeHNu.js";import"./helpers-Bq6rhdAh.js";import"./index-CyUVFuBk.js";import"./fade-DCmSMvW_.js";import"./countryList-D4Z0_rqR.js";import"./index-KrFx5yLV.js";import"./color-DHucoY0N.js";import"./index-B4f4eOHp.js";import"./useDate-BULXdJSE.js";import"./useDebounce-Bt454N2K.js";import"./index-BvYAae1P.js";import"./ArrowRightOutlined-C5erMTxb.js";import"./Table-GuseyTUl.js";import"./DeleteOutlined-BFUSzqOA.js";import"./PlusOutlined-DTyZuIQf.js";import"./index-DgQk4TZ4.js";import"./index-D9tus7yj.js";import"./index-BqZbbUgK.js";import"./useFetch-9h3EQO6S.js";import"./index-BgRVQ2Al.js";const p={name:{type:"string",required:!0},productCategory:{type:"async",label:"product Category",displayLabels:["productCategory","name"],dataIndex:["productCategory","name"],entity:"productcategory",required:!0},price:{type:"currency",required:!0},description:{type:"textarea"}};function Z(){const e=T(),m="product",u={displayLabels:["name"],searchFields:"name"},l=["name"],f={PANEL_TITLE:e("Product"),DATATABLE_TITLE:e("Product_list"),ADD_NEW_ENTITY:e("add_new_Product"),ENTITY_NAME:e("Product")},g={...{entity:m,...f},fields:p,searchConfig:u,deleteModalLabels:l},[a,c]=s.useState([]),[y,n]=s.useState(0);s.useEffect(()=>{(async()=>{try{const r=await _.get("/api/products");c(r.data)}catch(r){console.error("Error fetching products:",r)}})()},[]),s.useEffect(()=>{if(a.length>1){const t=a.reduce((r,o)=>{const x=parseFloat(o.price)||0;return r+x},0);n(t)}else n(0)},[a]);const P=t=>{if(t.price&&!isNaN(t.price)){const r={...t,price:parseFloat(t.price)};c(o=>[...o,r])}else alert(e("Please_enter_valid_price"))},h=t=>{c(r=>r.map(o=>o.id===t.id?t:o))};return i.jsxs(i.Fragment,{children:[i.jsx(E,{createForm:i.jsx(d,{fields:p,onSubmit:P}),updateForm:i.jsx(d,{fields:p,onSubmit:h}),config:g}),a.length>1&&i.jsxs("div",{style:{marginTop:"20px",fontWeight:"bold"},children:[e("Total Price"),": $",y.toFixed(2)]})]})}export{Z as default};
