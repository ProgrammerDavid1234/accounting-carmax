import{a as c,ah as i}from"./index-HnWu2ajL.js";import{C as E}from"./CrudModule-vOlu8SOg.js";import{D as m}from"./index-iDPLIEzd.js";import{D as T,aX as _}from"./IdurarOs-BukodILd.js";import"./actions-BZI40g3m.js";import"./index-EdnPnSX_.js";import"./index-9o8rWx82.js";import"./ErpApp-CHsvLNMM.js";import"./DownOutlined-DV_VUyFd.js";import"./helpers-DB0-nE3e.js";import"./index-Bsxqi8Iy.js";import"./fade-tVcqSVgs.js";import"./countryList-CAqrKrXm.js";import"./index-KrFx5yLV.js";import"./color-DHucoY0N.js";import"./index-BHMGiCbw.js";import"./useDate-VvBhK8L7.js";import"./useDebounce-B3EZk7FP.js";import"./index-_196Wt15.js";import"./ArrowRightOutlined-C4tBAx2j.js";import"./Table-BVAEfPyJ.js";import"./DeleteOutlined-COA9zE5v.js";import"./PlusOutlined-zk98YPLA.js";import"./index-e0CX1Bw_.js";import"./index-DcpOWz18.js";import"./index-D-p5jlxV.js";import"./useFetch-_GvbzlBn.js";import"./index-BqXAHNFf.js";const p={name:{type:"string",required:!0},productCategory:{type:"async",label:"product Category",displayLabels:["productCategory","name"],dataIndex:["productCategory","name"],entity:"productcategory",required:!0},price:{type:"currency",required:!0,currencySymbol:"â‚¦"},description:{type:"textarea"}};function Z(){const e=T(),d="product",u={displayLabels:["name"],searchFields:"name"},l=["name"],g={PANEL_TITLE:e("Product"),DATATABLE_TITLE:e("Product_list"),ADD_NEW_ENTITY:e("add_new_Product"),ENTITY_NAME:e("Product")},f={...{entity:d,...g},fields:p,searchConfig:u,deleteModalLabels:l},[a,s]=c.useState([]),[y,n]=c.useState(0);c.useEffect(()=>{(async()=>{try{const r=await _.get("https://accounting-carmax.onrender.com//api/products");s(r.data)}catch(r){console.error("Error fetching products:",r)}})()},[]),c.useEffect(()=>{if(a.length>1){const t=a.reduce((r,o)=>{const x=parseFloat(o.price)||0;return r+x},0);n(t)}else n(0)},[a]);const h=t=>{if(t.price&&!isNaN(t.price)){const r={...t,price:parseFloat(t.price)};s(o=>[...o,r])}else alert(e("Please_enter_valid_price"))},P=t=>{s(r=>r.map(o=>o.id===t.id?t:o))};return i.jsxs(i.Fragment,{children:[i.jsx(E,{createForm:i.jsx(m,{fields:p,onSubmit:h}),updateForm:i.jsx(m,{fields:p,onSubmit:P}),config:f}),a.length>1&&i.jsxs("div",{style:{marginTop:"20px",fontWeight:"bold"},children:[e("Total Price"),": $",y.toFixed(2)]})]})}export{Z as default};
